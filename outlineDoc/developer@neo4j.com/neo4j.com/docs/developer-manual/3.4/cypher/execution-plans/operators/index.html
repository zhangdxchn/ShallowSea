
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta charset="utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
      <title>3.7.4.&nbsp;Operators - 3.7.&nbsp;Execution plans</title>
      <link rel="stylesheet" type="text/css" href="../../../docbook.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../../../../../maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../../../../../cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css"></link>
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,300italic"></link>
      <link rel="stylesheet" type="text/css" href="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/codemirror.min.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/theme/neo.min.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../css/extra.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../css/chunked-base.css"></link>
      <link rel="stylesheet" type="text/css" href="../../../css/console.css"></link><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script><script src="../../../../../../../maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/codemirror.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/addon/runmode/runmode.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/javascript/javascript.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/shell/shell.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/python/python.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/xml/xml.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/clike/clike.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/cypher/cypher.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/properties/properties.min.js" type="text/javascript"></script><script src="../../../../../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/groovy/groovy.min.js" type="text/javascript"></script><script src="../../../javascript/colorize.js" type="text/javascript"></script><script src="../../../javascript/tabs-for-chunked.js" type="text/javascript"></script><script src="../../../javascript/mp-nav.js" type="text/javascript"></script><script src="../../../javascript/versionswitcher.js" type="text/javascript"></script><script src="../../../javascript/version.js" type="text/javascript"></script><script src="https://s3-eu-west-1.amazonaws.com/alpha.neohq.net/docs/new-manual/assets/search.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></meta>
      <meta name="description" content="All operators are listed here, grouped by the similarity of their characteristics."></meta>
      <link rel="prev" href="../index.html" title="3.7.&nbsp;Execution plans"></link>
      <link rel="next" href="../shortestpath-planning/index.html" title="3.7.5.&nbsp;Shortest path planning"></link>
      <link rel="shortcut icon" href="../../../../../../wp-content/themes/neo4jweb/favicon.ico"></link><script>
        $(document).ready(function() {
          CodeMirror.colorize();
          tabTheSource($('body'));
          var $header = $('header').first();
          $header.prepend(
            $('<a href="../../../index.html" id="logo"><img src="../../../../../../wp-content/themes/neo4jweb/assets/images/neo4j-logo-2015.png" alt="Neo4j Logo"></img></a>')
          );
          var $sidebar = $('<div id="sidebar-wrapper"></div>');
          $.get('toc.html', function (d){
            $(d).appendTo($sidebar);
            highlightToc();
            highlightLibraryHeader();
          });
          $sidebar.insertAfter($('header').first());
        });
        </script></head>
   <body>
      <header>
         <div class="searchbox">
            <form id="search-form" class="search" name="search-form" role="search"><input id="search-form-input" name="q" title="search" type="search" lang="en" placeholder="Search Neo4j docs..." aria-label="Search Neo4j documentation" max-length="128" required="required"></input><input id="search-form-button" type="submit" value="Search"></input></form>
         </div>
         <ul class="documentation-library">
            <li><a href="https://neo4j.com/docs/operations-manual/3.4/">Operations Manual</a></li>
            <li><a href="../../../index.html">Developer Manual</a></li>
            <li><a href="https://neo4j.com/docs/ogm-manual/3.0/">OGM Manual</a></li>
            <li><a href="https://neo4j.com/docs/graph-algorithms/3.4/">Graph Algorithms</a></li>
            <li><a href="https://neo4j.com/docs/java-reference/3.4/">Java Reference</a></li>
         </ul>
         <nav id="header-nav"><span class="nav-previous"><a accesskey="p" href="../index.html"><span class="fa fa-long-arrow-left" aria-hidden="true"></span>Execution plans</a></span><span class="nav-current">
               <p class="nav-title hidden">3.7.4.&nbsp;Operators</p></span><span class="nav-next"><a accesskey="n" href="../shortestpath-planning/index.html">Shortest path planning<span class="fa fa-long-arrow-right" aria-hidden="true"></span></a></span></nav>
      </header>
      <div id="search-results" class="hidden"></div>
      <section class="section" id="execution-plans-operators">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a class="anchor" href="index.html#execution-plans-operators"></a>3.7.4.&nbsp;Operators
                  </h3>
               </div>
            </div>
         </div>
         <div class="abstract">
            <p>All operators are listed here, grouped by the similarity of their characteristics.</p>
         </div>
         <section class="section" id="query-plan-all-nodes-scan">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-all-nodes-scan"></a>3.7.4.1.&nbsp;All Nodes Scan
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">AllNodesScan</code> operator reads all nodes from the node store. The variable that will contain the nodes is seen in the arguments.
               Any query using this operator is likely to encounter performance problems on a non-trivial database.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
RETURN n</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |             35 |   35 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |   35 |      36 |               1 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 36</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-directed-relationship-by-id-seek">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-directed-relationship-by-id-seek"></a>3.7.4.2.&nbsp;Directed Relationship By Id Seek
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DirectedRelationshipByIdSeek</code> operator reads one or more relationships by id from the relationship store, and produces both the relationship and the nodes
               on either side.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n1)-[r]-&gt;()
WHERE id(r)= 0
RETURN r, n1</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------------------------------------------------------------+
| Operator                      | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables       | Other                                                                             |
+-------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------------------------------------------------------------+
| +ProduceResults               |              1 |    1 |       0 |               0 |                 0 |               0.0000 | anon[17], n1, r |                                                                                   |
| |                             +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------------------------------------------------------------+
| +DirectedRelationshipByIdSeek |              1 |    1 |       1 |               1 |                 0 |               1.0000 | anon[17], n1, r | EntityByIdRhs(ManySeekableArgs(ListLiteral(List(Parameter(  AUTOINT0,Integer))))) |
+-------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------------------------------------------------------------+

Total database accesses: 1</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-by-id-seek">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-by-id-seek"></a>3.7.4.3.&nbsp;Node By Id Seek
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeByIdSeek</code> operator reads one or more nodes by id from the node store.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
WHERE id(n)= 0
RETURN n</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |              1 |    1 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +NodeByIdSeek   |              1 |    1 |       1 |               1 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 1</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-by-label-scan">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-by-label-scan"></a>3.7.4.4.&nbsp;Node By Label Scan
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeByLabelScan</code> operator fetches all nodes with a specific label from the node label index.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (person:Person)
RETURN person</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other   |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +ProduceResults  |             14 |   14 |       0 |               0 |                 0 |               0.0000 | person    |         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +NodeByLabelScan |             14 |   14 |      15 |               1 |                 0 |               1.0000 | person    | :Person |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+

Total database accesses: 15</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-index-seek">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-index-seek"></a>3.7.4.5.&nbsp;Node Index Seek
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeIndexSeek</code> operator finds nodes using an index seek.
               The node variable and the index used is shown in the arguments of the operator.
               If the index is a unique index, the operator is instead called <a class="link" href="index.html#query-plan-node-unique-index-seek" title="3.7.4.6.&nbsp;Node Unique Index Seek">NodeUniqueIndexSeek</a>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (location:Location { name: 'Malmo' })
RETURN location</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other           |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| +ProduceResults |              1 |    1 |       0 |               0 |                 1 |               0.0000 | location  |                 |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| +NodeIndexSeek  |              1 |    1 |       3 |               0 |                 1 |               0.0000 | location  | :Location(name) |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+

Total database accesses: 3</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-unique-index-seek">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-unique-index-seek"></a>3.7.4.6.&nbsp;Node Unique Index Seek
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeUniqueIndexSeek</code> operator finds nodes using an index seek within a unique index. The node variable and the index used is shown in the arguments
               of the operator.
               If the index is not unique, the operator is instead called <a class="link" href="index.html#query-plan-node-index-seek" title="3.7.4.5.&nbsp;Node Index Seek">NodeIndexSeek</a>.
               If the index seek is used to solve a <a class="link" href="../../clauses/merge/index.html" title="3.3.16.&nbsp;MERGE">MERGE</a> clause, it will also be marked with <code class="literal">(Locking)</code>.
               This makes it clear that any nodes returned from the index will be locked in order to prevent concurrent conflicting updates.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (t:Team { name: 'Malmo' })
RETURN t</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| Operator             | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other       |
+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +ProduceResults      |              1 |    0 |       0 |               0 |                 1 |               0.0000 | t         |             |
| |                    +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +NodeUniqueIndexSeek |              1 |    0 |       2 |               0 |                 1 |               0.0000 | t         | :Team(name) |
+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-index-seek-by-range">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-index-seek-by-range"></a>3.7.4.7.&nbsp;Node Index Seek By Range
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeIndexSeekByRange</code> operator finds nodes using an index seek where the value of the property matches a given prefix string.
               <code class="literal">NodeIndexSeekByRange</code> can be used for <code class="literal">STARTS WITH</code> and comparison operators such as <code class="literal">&lt;</code>, <code class="literal">&gt;</code>, <code class="literal">&lt;=</code> and <code class="literal">&gt;=</code>.
               If the index is a unique index, the operator is instead called <code class="literal">NodeUniqueIndexSeekByRange</code>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)
WHERE l.name STARTS WITH 'Lon'
RETURN l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                                        |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------------------+
| +ProduceResults       |             25 |    1 |       0 |               1 |                 0 |               1.0000 | l         |                                              |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------------------+
| +NodeIndexSeekByRange |             25 |    1 |       3 |               1 |                 0 |               1.0000 | l         | :Location(name STARTS WITH $`  AUTOSTRING0`) |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------------------+

Total database accesses: 3</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-unique-index-seek-by-range">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-unique-index-seek-by-range"></a>3.7.4.8.&nbsp;Node Unique Index Seek By Range
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeUniqueIndexSeekByRange</code> operator finds nodes using an index seek within a unique index, where the value of the property matches a given prefix string.
               <code class="literal">NodeUniqueIndexSeekByRange</code> is used by <code class="literal">STARTS WITH</code> and comparison operators such as <code class="literal">&lt;</code>, <code class="literal">&gt;</code>, <code class="literal">&lt;=</code> and <code class="literal">&gt;=</code>.
               If the index is not unique, the operator is instead called <code class="literal">NodeIndexSeekByRange</code>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (t:Team)
WHERE t.name STARTS WITH 'Ma'
RETURN t</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------------+
| Operator                    | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                                    |
+-----------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------------+
| +ProduceResults             |             25 |    0 |       0 |               1 |                 0 |               1.0000 | t         |                                          |
| |                           +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------------+
| +NodeUniqueIndexSeekByRange |             25 |    0 |       2 |               1 |                 0 |               1.0000 | t         | :Team(name STARTS WITH $`  AUTOSTRING0`) |
+-----------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-index-contains-scan">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-index-contains-scan"></a>3.7.4.9.&nbsp;Node Index Contains Scan
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeIndexContainsScan</code> operator examines all values stored in an index, searching for entries
                containing a specific string; for example, in queries including <code class="literal">CONTAINS</code>.
                Although this is slower than an index seek (since all entries need to be
                examined), it is still faster than the indirection resulting from a label scan using <code class="literal">NodeByLabelScan</code>, and a property store
                filter.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)
WHERE l.name CONTAINS 'al'
RETURN l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| Operator               | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                             |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| +ProduceResults        |             10 |    2 |       0 |               0 |                 0 |               0.0000 | l         |                                   |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| +NodeIndexContainsScan |             10 |    2 |       4 |               0 |                 1 |               0.0000 | l         | :Location(name); $`  AUTOSTRING0` |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+

Total database accesses: 4</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-index-ends-with-scan">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-index-ends-with-scan"></a>3.7.4.10.&nbsp;Node Index Ends With Scan
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeIndexEndsWithScan</code> operator examines all values stored in an index, searching for entries
                ending in a specific string; for example, in queries containing <code class="literal">ENDS WITH</code>.
                Although this is slower than an index seek (since all entries need to be
                examined), it is still faster than the indirection resulting from a label scan using <code class="literal">NodeByLabelScan</code>, and a property store
                filter.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)
WHERE l.name ENDS WITH 'al'
RETURN l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| Operator               | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                             |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| +ProduceResults        |             10 |    0 |       0 |               0 |                 0 |               0.0000 | l         |                                   |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+
| +NodeIndexEndsWithScan |             10 |    0 |       2 |               0 |                 1 |               0.0000 | l         | :Location(name); $`  AUTOSTRING0` |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------------------------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-index-scan">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-index-scan"></a>3.7.4.11.&nbsp;Node Index Scan
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeIndexScan</code> operator examines all values stored in an index, returning all nodes with a particular label having a specified property.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)
WHERE exists(l.name)
RETURN l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other           |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| +ProduceResults |             10 |   10 |       0 |               0 |                 0 |               0.0000 | l         |                 |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+
| +NodeIndexScan  |             10 |   10 |      12 |               0 |                 4 |               0.0000 | l         | :Location(name) |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-----------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-undirected-relationship-by-id-seek">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-undirected-relationship-by-id-seek"></a>3.7.4.12.&nbsp;Undirected Relationship By Id Seek
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">UndirectedRelationshipByIdSeek</code> operator reads one or more relationships by id from the relationship store.
               As the direction is unspecified, two rows are produced for each relationship as a result of alternating the combination of
               the start and end node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n1)-[r]-()
WHERE id(r)= 1
RETURN r, n1</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+
| Operator                        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables       |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+
| +ProduceResults                 |              1 |    2 |       0 |               0 |                 0 |               0.0000 | anon[16], n1, r |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+
| +UndirectedRelationshipByIdSeek |              1 |    2 |       1 |               1 |                 0 |               1.0000 | anon[16], n1, r |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+

Total database accesses: 1</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-apply"></a>3.7.4.13.&nbsp;Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>All the different <code class="literal">Apply</code> operators (listed below) share the same basic functionality: they perform a nested loop by taking a single row from the left-hand
               side, and using the <a class="link" href="index.html#query-plan-argument" title="3.7.4.25.&nbsp;Argument">Argument</a> operator on the right-hand side, execute the operator tree on the right-hand side.
               The versions of the <code class="literal">Apply</code> operators differ in how the results are managed.
               The <code class="literal">Apply</code> operator (i.e. the standard version) takes the row produced by the right-hand side&#8201;&#8212;&#8201;which at this point contains data from
               both the left-hand and right-hand sides&#8201;&#8212;&#8201;and yields it..
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person { name:'me' })
MATCH (q:Person { name: p.secondName })
RETURN p, q</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults  |              1 |    0 |       0 |               0 |                 1 |               0.0000 | p, q      |               |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Apply           |              1 |    0 |       0 |               0 |                 1 |               0.0000 | p, q      |               |
| |\               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +NodeIndexSeek |              1 |    0 |       3 |               0 |                 0 |               0.0000 | q -- p    | :Person(name) |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeIndexSeek   |              1 |    1 |       3 |               0 |                 1 |               0.0000 | p         | :Person(name) |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 6</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-semi-apply"></a>3.7.4.14.&nbsp;Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SemiApply</code> operator tests for the presence of a pattern predicate, and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               If the right-hand side operator yields at least one row, the row from the left-hand side operator is yielded by the <code class="literal">SemiApply</code> operator.
               This makes <code class="literal">SemiApply</code> a filtering operator, used mostly for pattern predicates in queries.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
WHERE (p)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN p.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables              | Other                                  |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| +ProduceResults  |             11 |    2 |       0 |               3 |                 0 |               1.0000 | p, p.name              |                                        |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| +Projection      |             11 |    2 |       2 |               3 |                 0 |               1.0000 | p.name -- p            | {p.name : p.name}                      |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| +SemiApply       |             11 |    2 |       0 |               3 |                 0 |               1.0000 | p                      |                                        |
| |\               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| | +Filter        |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE45,   REL27, p   | `  NODE45`:Person                      |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| | +Expand(All)   |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE45,   REL27 -- p | (p)-[  REL27:FRIENDS_WITH]-&gt;(  NODE45) |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| | +Argument      |             14 |   14 |       0 |               0 |                 0 |               0.0000 | p                      |                                        |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+
| +NodeByLabelScan |             14 |   14 |      15 |               4 |                 0 |               1.0000 | p                      | :Person                                |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------+----------------------------------------+

Total database accesses: 35</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-anti-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-anti-semi-apply"></a>3.7.4.15.&nbsp;Anti Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">AntiSemiApply</code> operator tests for the absence of a pattern, and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               If the right-hand side operator yields no rows, the row from the left-hand side operator is yielded by the <code class="literal">AntiSemiApply</code> operator.
               This makes <code class="literal">AntiSemiApply</code> a filtering operator, used for pattern predicates in queries.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (me:Person { name: "me" }),(other:Person)
WHERE NOT (me)-[:FRIENDS_WITH]-&gt;(other)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables               | Other                                |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| +ProduceResults    |              4 |   13 |       0 |               4 |                 1 |               0.8000 | me, other, other.name   |                                      |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| +Projection        |              4 |   13 |      13 |               4 |                 1 |               0.8000 | other.name -- me, other | {other.name : other.name}            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| +AntiSemiApply     |              4 |   13 |       0 |               4 |                 1 |               0.8000 | me, other               |                                      |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| | +Expand(Into)    |              0 |    0 |      50 |               0 |                 0 |               0.0000 |   REL62 -- me, other    | (me)-[  REL62:FRIENDS_WITH]-&gt;(other) |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| | +Argument        |             14 |   14 |       0 |               0 |                 0 |               0.0000 | me, other               |                                      |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| +CartesianProduct  |             14 |   14 |       0 |               4 |                 1 |               0.8000 | me -- other             |                                      |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| | +NodeByLabelScan |             14 |   14 |      15 |               4 |                 0 |               1.0000 | other                   | :Person                              |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+
| +NodeIndexSeek     |              1 |    1 |       3 |               4 |                 1 |               0.8000 | me                      | :Person(name)                        |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------+--------------------------------------+

Total database accesses: 81</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-let-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-let-semi-apply"></a>3.7.4.16.&nbsp;Let Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LetSemiApply</code> operator tests for the presence of a pattern predicate, and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               When a query contains multiple pattern predicates separated with <code class="literal">OR</code>, <code class="literal">LetSemiApply</code> will be used to evaluate the first of these.
               It will record the result of evaluating the predicate but will leave any filtering to another operator.
               In the example, <code class="literal">LetSemiApply</code> will be used to check for the presence of the <code class="literal">FRIENDS_WITH</code>
               relationship from each person.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                     | Other                                      |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +ProduceResults    |             13 |   14 |       0 |               4 |                 0 |               1.0000 | anon[27], other, other.name   |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +Projection        |             13 |   14 |      14 |               4 |                 0 |               1.0000 | other.name -- anon[27], other | {other.name : other.name}                  |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +SelectOrSemiApply |             13 |   14 |       0 |               4 |                 0 |               1.0000 | anon[27] -- other             | `anon[27]`                                 |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter          |             15 |    0 |      12 |               5 |                 0 |               1.0000 |   NODE87,   REL73, other      | `  NODE87`:Location                        |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)     |             15 |   12 |      24 |               5 |                 0 |               1.0000 |   NODE87,   REL73 -- other    | (other)-[  REL73:WORKS_IN]-&gt;(  NODE87)     |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument        |             14 |   12 |       0 |               5 |                 0 |               1.0000 | other                         |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +LetSemiApply      |             14 |   14 |       0 |               4 |                 0 |               1.0000 | anon[27] -- other             |                                            |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter          |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE53,   REL35, other      | `  NODE53`:Person                          |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)     |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE53,   REL35 -- other    | (other)-[  REL35:FRIENDS_WITH]-&gt;(  NODE53) |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument        |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                         |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +NodeByLabelScan   |             14 |   14 |      15 |               5 |                 0 |               1.0000 | other                         | :Person                                    |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+

Total database accesses: 83</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-let-anti-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-let-anti-semi-apply"></a>3.7.4.17.&nbsp;Let Anti Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LetAntiSemiApply</code> operator tests for the absence of a pattern, and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               When a query contains multiple negated pattern predicates&#8201;&#8212;&#8201;i.e. predicates separated with <code class="literal">OR</code>, where at
               least one predicate contains <code class="literal">NOT</code>&#8201;&#8212;&#8201;<code class="literal">LetAntiSemiApply</code> will be used to evaluate the first of these.
               It will record the result of evaluating the predicate but will leave any filtering to another operator.
               In the example, <code class="literal">LetAntiSemiApply</code> will be used to check for the absence of
               the <code class="literal">FRIENDS_WITH</code> relationship from each person.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE NOT ((other)-[:FRIENDS_WITH]-&gt;(:Person)) OR (other)-[:WORKS_IN]-&gt;(:Location)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                     | Other                                      |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +ProduceResults    |             11 |   14 |       0 |               3 |                 0 |               1.0000 | anon[32], other, other.name   |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +Projection        |             11 |   14 |      14 |               3 |                 0 |               1.0000 | other.name -- anon[32], other | {other.name : other.name}                  |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +SelectOrSemiApply |             11 |   14 |       0 |               3 |                 0 |               1.0000 | anon[32] -- other             | `anon[32]`                                 |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter          |             15 |    0 |       2 |               4 |                 0 |               1.0000 |   NODE93,   REL79, other      | `  NODE93`:Location                        |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)     |             15 |    2 |       4 |               4 |                 0 |               1.0000 |   NODE93,   REL79 -- other    | (other)-[  REL79:WORKS_IN]-&gt;(  NODE93)     |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument        |             14 |    2 |       0 |               4 |                 0 |               1.0000 | other                         |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +LetAntiSemiApply  |             14 |   14 |       0 |               3 |                 0 |               1.0000 | anon[32] -- other             |                                            |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter          |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE58,   REL40, other      | `  NODE58`:Person                          |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)     |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE58,   REL40 -- other    | (other)-[  REL40:FRIENDS_WITH]-&gt;(  NODE58) |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument        |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                         |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +NodeByLabelScan   |             14 |   14 |      15 |               4 |                 0 |               1.0000 | other                         | :Person                                    |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+

Total database accesses: 53</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-select-or-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-select-or-semi-apply"></a>3.7.4.18.&nbsp;Select Or Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SelectOrSemiApply</code> operator tests for the presence of a pattern predicate and evaluates a predicate,
               and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               This operator allows for the mixing of normal predicates and pattern predicates
               that check for the presence of a pattern.
               First, the normal expression predicate is evaluated, and, only if it returns <code class="literal">false</code>, is the costly pattern predicate evaluated.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE other.age &gt; 25 OR (other)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                                      |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +ProduceResults    |             11 |    2 |       0 |               3 |                 0 |               1.0000 | other, other.name          |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +Projection        |             11 |    2 |       2 |               3 |                 0 |               1.0000 | other.name -- other        | {other.name : other.name}                  |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +SelectOrSemiApply |             11 |    2 |      14 |               3 |                 0 |               1.0000 | other                      | other.age &gt; $`  AUTOINT0`                  |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Filter          |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE71,   REL53, other   | `  NODE71`:Person                          |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Expand(All)     |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE71,   REL53 -- other | (other)-[  REL53:FRIENDS_WITH]-&gt;(  NODE71) |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Argument        |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                      |                                            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +NodeByLabelScan   |             14 |   14 |      15 |               4 |                 0 |               1.0000 | other                      | :Person                                    |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+

Total database accesses: 49</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-select-or-anti-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-select-or-anti-semi-apply"></a>3.7.4.19.&nbsp;Select Or Anti Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SelectOrAntiSemiApply</code> operator is used to evaluate <code class="literal">OR</code> between a predicate and a negative pattern predicate
               (i.e. a pattern predicate preceded with <code class="literal">NOT</code>), and is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
               If the predicate returns <code class="literal">true</code>, the pattern predicate is not tested.
               If the predicate returns <code class="literal">false</code> or <code class="literal">null</code>, <code class="literal">SelectOrAntiSemiApply</code> will instead test the pattern predicate.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE other.age &gt; 25 OR NOT (other)-[:FRIENDS_WITH]-&gt;(:Person)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| Operator               | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                                      |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +ProduceResults        |              4 |   12 |       0 |               3 |                 0 |               1.0000 | other, other.name          |                                            |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +Projection            |              4 |   12 |      12 |               3 |                 0 |               1.0000 | other.name -- other        | {other.name : other.name}                  |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +SelectOrAntiSemiApply |              4 |   12 |      14 |               3 |                 0 |               1.0000 | other                      | other.age &gt; $`  AUTOINT0`                  |
| |\                     +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Filter              |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE75,   REL57, other   | `  NODE75`:Person                          |
| | |                    +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Expand(All)         |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE75,   REL57 -- other | (other)-[  REL57:FRIENDS_WITH]-&gt;(  NODE75) |
| | |                    +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| | +Argument            |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                      |                                            |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+
| +NodeByLabelScan       |             14 |   14 |      15 |               4 |                 0 |               1.0000 | other                      | :Person                                    |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+--------------------------------------------+

Total database accesses: 59</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-let-select-or-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-let-select-or-semi-apply"></a>3.7.4.20.&nbsp;Let Select Or Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LetSelectOrSemiApply</code> operator is planned for pattern predicates that are combined with other predicates using <code class="literal">OR</code>.
               This is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location) OR other.age = 5
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                     | Other                                      |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +ProduceResults       |             13 |   14 |       0 |               4 |                 0 |               1.0000 | anon[27], other, other.name   |                                            |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +Projection           |             13 |   14 |      14 |               4 |                 0 |               1.0000 | other.name -- anon[27], other | {other.name : other.name}                  |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +SelectOrSemiApply    |             13 |   14 |       0 |               4 |                 0 |               1.0000 | anon[27] -- other             | `anon[27]`                                 |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter             |             15 |    0 |      12 |               5 |                 0 |               1.0000 |   NODE87,   REL73, other      | `  NODE87`:Location                        |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)        |             15 |   12 |      24 |               5 |                 0 |               1.0000 |   NODE87,   REL73 -- other    | (other)-[  REL73:WORKS_IN]-&gt;(  NODE87)     |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument           |             14 |   12 |       0 |               5 |                 0 |               1.0000 | other                         |                                            |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +LetSelectOrSemiApply |             14 |   14 |      14 |               4 |                 0 |               1.0000 | anon[27] -- other             | other.age = $`  AUTOINT0`                  |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter             |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE53,   REL35, other      | `  NODE53`:Person                          |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)        |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE53,   REL35 -- other    | (other)-[  REL35:FRIENDS_WITH]-&gt;(  NODE53) |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument           |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                         |                                            |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +NodeByLabelScan      |             14 |   14 |      15 |               5 |                 0 |               1.0000 | other                         | :Person                                    |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+

Total database accesses: 97</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-let-select-or-anti-semi-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-let-select-or-anti-semi-apply"></a>3.7.4.21.&nbsp;Let Select Or Anti Semi Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LetSelectOrAntiSemiApply</code> operator is planned for negated pattern predicates&#8201;&#8212;&#8201;i.e. pattern predicates
               preceded with <code class="literal">NOT</code>&#8201;&#8212;&#8201;that are combined with other predicates using <code class="literal">OR</code>.
               This operator is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (other:Person)
WHERE NOT (other)-[:FRIENDS_WITH]-&gt;(:Person) OR (other)-[:WORKS_IN]-&gt;(:Location) OR other.age = 5
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| Operator                  | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                     | Other                                      |
+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +ProduceResults           |             11 |   14 |       0 |               3 |                 0 |               1.0000 | anon[31], other, other.name   |                                            |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +Projection               |             11 |   14 |      14 |               3 |                 0 |               1.0000 | other.name -- anon[31], other | {other.name : other.name}                  |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +SelectOrSemiApply        |             11 |   14 |       0 |               3 |                 0 |               1.0000 | anon[31] -- other             | `anon[31]`                                 |
| |\                        +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter                 |             15 |    0 |       2 |               4 |                 0 |               1.0000 |   NODE91,   REL77, other      | `  NODE91`:Location                        |
| | |                       +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)            |             15 |    2 |       4 |               4 |                 0 |               1.0000 |   NODE91,   REL77 -- other    | (other)-[  REL77:WORKS_IN]-&gt;(  NODE91)     |
| | |                       +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument               |             14 |    2 |       0 |               4 |                 0 |               1.0000 | other                         |                                            |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +LetSelectOrAntiSemiApply |             14 |   14 |      14 |               3 |                 0 |               1.0000 | anon[31] -- other             | other.age = $`  AUTOINT0`                  |
| |\                        +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Filter                 |              2 |    0 |       2 |               0 |                 0 |               0.0000 |   NODE57,   REL39, other      | `  NODE57`:Person                          |
| | |                       +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Expand(All)            |              2 |    2 |      16 |               0 |                 0 |               0.0000 |   NODE57,   REL39 -- other    | (other)-[  REL39:FRIENDS_WITH]-&gt;(  NODE57) |
| | |                       +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| | +Argument               |             14 |   14 |       0 |               0 |                 0 |               0.0000 | other                         |                                            |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+
| +NodeByLabelScan          |             14 |   14 |      15 |               4 |                 0 |               1.0000 | other                         | :Person                                    |
+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------+--------------------------------------------+

Total database accesses: 67</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-conditional-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-conditional-apply"></a>3.7.4.22.&nbsp;Conditional Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">ConditionalApply</code> operator checks whether a variable is not <code class="literal">null</code>, and if so, the right child operator will be executed.
               This operator is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MERGE (p:Person { name: 'Andy' })
ON MATCH SET p.exists = TRUE</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults       |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +EmptyResult          |              1 |    0 |       0 |               2 |                -1 |               2.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +AntiConditionalApply |              1 |    1 |       0 |               2 |                -1 |               2.0000 | p         |               |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +MergeCreateNode    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ConditionalApply     |              1 |    1 |       0 |               2 |                -1 |               2.0000 | p         |               |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +SetProperty        |              1 |    1 |       3 |               2 |                -1 |               2.0000 | p         |               |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +Argument           |              1 |    1 |       0 |               2 |                -1 |               2.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Optional             |              1 |    1 |       0 |               2 |                 0 |               1.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ActiveRead           |              1 |    1 |       0 |               2 |                 0 |               1.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeIndexSeek        |              1 |    1 |       3 |               2 |                 0 |               1.0000 | p         | :Person(name) |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 6</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-anti-conditional-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-anti-conditional-apply"></a>3.7.4.23.&nbsp;Anti Conditional Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">AntiConditionalApply</code> operator checks whether a variable is <code class="literal">null</code>, and if so, the right child operator will be executed.
               This operator is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MERGE (p:Person { name: 'Andy' })
ON CREATE SET p.exists = TRUE</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults       |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +EmptyResult          |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +AntiConditionalApply |              1 |    1 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +SetProperty        |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| | |                   +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +MergeCreateNode    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Optional             |              1 |    1 |       0 |               0 |                 1 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ActiveRead           |              1 |    1 |       0 |               0 |                 1 |               0.0000 | p         |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeIndexSeek        |              1 |    1 |       3 |               0 |                 1 |               0.0000 | p         | :Person(name) |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 3</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-roll-up-apply">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-roll-up-apply"></a>3.7.4.24.&nbsp;Roll Up Apply
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">RollUpApply</code> operator is used to execute an expression which takes as input a pattern, and returns a list with content from the matched
               pattern;
               for example, when using a pattern expression or pattern comprehension in a query.
               This operator is a variation of the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN p.name,[(p)-[:WORKS_IN]-&gt;(location)| location.name] AS cities</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                        | Other                                  |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| +ProduceResults  |             14 |   14 |       0 |               3 |                 0 |               1.0000 | anon[33], cities, p, p.name      |                                        |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| +Projection      |             14 |   14 |      14 |               3 |                 0 |               1.0000 | cities, p.name -- anon[33], p    | {p.name : p.name, cities : `anon[33]`} |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| +RollUpApply     |             14 |   14 |       0 |               3 |                 0 |               1.0000 | anon[33] -- p                    | anon[33]                               |
| |\               +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| | +Projection    |              0 |   15 |      15 |               0 |                 0 |               0.0000 | anon[32] --   REL38, location, p | { : location.name}                     |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| | +Expand(All)   |              0 |   15 |      29 |               0 |                 0 |               0.0000 |   REL38, location -- p           | (p)-[  REL38:WORKS_IN]-&gt;(location)     |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| | +Argument      |              1 |   14 |       0 |               0 |                 0 |               0.0000 | p                                |                                        |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+
| +NodeByLabelScan |             14 |   14 |      15 |               4 |                 0 |               1.0000 | p                                | :Person                                |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+----------------------------------------+

Total database accesses: 73</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-argument">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-argument"></a>3.7.4.25.&nbsp;Argument
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Argument</code> operator indicates the variable to be used as an argument to the right-hand side of an <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (s:Person { name: 'me' })
MERGE (s)-[:FRIENDS_WITH]-&gt;(s)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| Operator                     | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables     | Other                    |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +ProduceResults              |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[40], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +EmptyResult                 |              1 |    0 |       0 |               4 |                 1 |               0.8000 | anon[40], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +Apply                       |              1 |    1 |       0 |               4 |                 1 |               0.8000 | anon[40], s   |                          |
| |\                           +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +MergeCreateRelationship |              1 |    1 |       1 |               2 |                 0 |               1.0000 | anon[40] -- s |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    1 |       0 |               2 |                 0 |               1.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Optional                |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +ActiveRead              |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[40], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Expand(Into)            |              0 |    0 |       4 |               0 |                 0 |               0.0000 | anon[40] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +LockNodes               |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             | s                        |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    1 |       0 |               0 |                 0 |               0.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Optional                  |              1 |    1 |       0 |               4 |                 0 |               1.0000 | anon[40], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +ActiveRead                |              0 |    0 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Expand(Into)              |              0 |    0 |       4 |               2 |                 0 |               1.0000 | anon[40] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Argument                  |              1 |    1 |       0 |               2 |                 0 |               1.0000 | s             |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +NodeIndexSeek               |              1 |    1 |       3 |               4 |                 1 |               0.8000 | s             | :Person(name)            |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-expand-all">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-expand-all"></a>3.7.4.26.&nbsp;Expand All
                     </h4>
                  </div>
               </div>
            </div>
            <p>Given a start node, and depending on the pattern relationship, the <code class="literal">Expand(All)</code> operator will traverse incoming or outgoing relationships.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person { name: 'me' })-[:FRIENDS_WITH]-&gt;(fof)
RETURN fof</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+----------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables          | Other                      |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+----------------------------+
| +ProduceResults |              0 |    1 |       0 |               2 |                 1 |               0.6667 | anon[30], fof, p   |                            |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+----------------------------+
| +Expand(All)    |              0 |    1 |       2 |               2 |                 1 |               0.6667 | anon[30], fof -- p | (p)-[:FRIENDS_WITH]-&gt;(fof) |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+----------------------------+
| +NodeIndexSeek  |              1 |    1 |       3 |               2 |                 1 |               0.6667 | p                  | :Person(name)              |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+----------------------------+

Total database accesses: 5</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-expand-into">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-expand-into"></a>3.7.4.27.&nbsp;Expand Into
                     </h4>
                  </div>
               </div>
            </div>
            <p>When both the start and end node have already been found, the <code class="literal">Expand(Into)</code> operator is used to find all relationships connecting the two nodes.
               As both the start and end node of the relationship are already in scope, the node with the smallest degree will be used.
               This can make a noticeable difference when dense nodes appear as end points.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person { name: 'me' })-[:FRIENDS_WITH]-&gt;(fof)--&gt;(p)
RETURN fof</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                    | Other                       |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| +ProduceResults |              0 |    0 |       0 |               2 |                 1 |               0.6667 | anon[30], anon[53], fof, p   |                             |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| +Filter         |              0 |    0 |       0 |               2 |                 1 |               0.6667 | anon[30], anon[53], fof, p   | not `anon[30]` = `anon[53]` |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| +Expand(Into)   |              0 |    0 |       0 |               2 |                 1 |               0.6667 | anon[30] -- anon[53], fof, p | (p)-[:FRIENDS_WITH]-&gt;(fof)  |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| +Expand(All)    |              0 |    0 |       1 |               2 |                 1 |               0.6667 | anon[53], fof -- p           | (p)&lt;--(fof)                 |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+
| +NodeIndexSeek  |              1 |    1 |       3 |               2 |                 1 |               0.6667 | p                            | :Person(name)               |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------+-----------------------------+

Total database accesses: 4</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-optional-expand-all">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-optional-expand-all"></a>3.7.4.28.&nbsp;Optional Expand All
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">OptionalExpand(All)</code> operator is analogous to <a class="link" href="index.html#query-plan-expand-all" title="3.7.4.26.&nbsp;Expand All">Expand(All)</a>, apart from when no relationships match the direction, type and property predicates.
               In this situation, <code class="literal">OptionalExpand(all)</code> will return a single row with the relationship and end node set to <code class="literal">null</code>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
OPTIONAL MATCH (p)-[works_in:WORKS_IN]-&gt;(l)
WHERE works_in.duration &gt; 180
RETURN p, l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------------------------------------------+
| Operator             | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables        | Other                                                           |
+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------------------------------------------+
| +ProduceResults      |             14 |   15 |       0 |               4 |                 0 |               1.0000 | l, p, works_in   |                                                                 |
| |                    +----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------------------------------------------+
| +OptionalExpand(All) |             14 |   15 |      44 |               4 |                 0 |               1.0000 | l, works_in -- p | works_in.duration &gt; $`  AUTOINT0`; (p)-[works_in:WORKS_IN]-&gt;(l) |
| |                    +----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------------------------------------------+
| +NodeByLabelScan     |             14 |   14 |      15 |               5 |                 0 |               1.0000 | p                | :Person                                                         |
+----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------------------------------------------+

Total database accesses: 59</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-optional-expand-into">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-optional-expand-into"></a>3.7.4.29.&nbsp;Optional Expand Into
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">OptionalExpand(Into)</code> operator is analogous to <a class="link" href="index.html#query-plan-expand-into" title="3.7.4.27.&nbsp;Expand Into">Expand(Into)</a>, apart from when no matching relationships are found.
               In this situation, <code class="literal">OptionalExpand(Into)</code> will return a single row with the relationship and end node set to <code class="literal">null</code>.
               As both the start and end node of the relationship are already in scope, the node with the smallest degree will be used.
               This can make a noticeable difference when dense nodes appear as end points.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)-[works_in:WORKS_IN]-&gt;(l)
OPTIONAL MATCH (l)--&gt;(p)
RETURN p</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                        |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+
| +ProduceResults       |             15 |   15 |       0 |               3 |                 0 |               1.0000 | anon[61], l, p, works_in   |                              |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+
| +OptionalExpand(Into) |             15 |   15 |      48 |               3 |                 0 |               1.0000 | anon[61] -- l, p, works_in | (l)--&gt;(p)                    |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+
| +Expand(All)          |             15 |   15 |      29 |               3 |                 0 |               1.0000 | l, works_in -- p           | (p)-[works_in:WORKS_IN]-&gt;(l) |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+
| +NodeByLabelScan      |             14 |   14 |      15 |               4 |                 0 |               1.0000 | p                          | :Person                      |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------+

Total database accesses: 92</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-varlength-expand-all">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-varlength-expand-all"></a>3.7.4.30.&nbsp;VarLength Expand All
                     </h4>
                  </div>
               </div>
            </div>
            <p>Given a start node, the <code class="literal">VarLengthExpand(All)</code> operator will traverse variable-length relationships.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)-[:FRIENDS_WITH *1..2]-(q:Person)
RETURN p, q</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables        | Other                       |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+
| +ProduceResults       |              4 |    6 |       0 |               2 |                 0 |               1.0000 | anon[17], p, q   |                             |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+
| +Filter               |              4 |    6 |       6 |               2 |                 0 |               1.0000 | anon[17], p, q   | q:Person                    |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+
| +VarLengthExpand(All) |              4 |    6 |      28 |               2 |                 0 |               1.0000 | anon[17], q -- p | (p)-[:FRIENDS_WITH*..2]-(q) |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+
| +NodeByLabelScan      |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p                | :Person                     |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+-----------------------------+

Total database accesses: 49</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-varlength-expand-into">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-varlength-expand-into"></a>3.7.4.31.&nbsp;VarLength Expand Into
                     </h4>
                  </div>
               </div>
            </div>
            <p>When both the start and end node have already been found, the <code class="literal">VarLengthExpand(Into)</code> operator is used to find all variable-length relationships connecting the two nodes.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)-[:FRIENDS_WITH *1..2]-(p:Person)
RETURN p</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+-----------------------------+
| Operator               | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables     | Other                       |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+-----------------------------+
| +ProduceResults        |              0 |    0 |       0 |               2 |                 0 |               1.0000 | anon[17], p   |                             |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+---------------+-----------------------------+
| +VarLengthExpand(Into) |              0 |    0 |      28 |               2 |                 0 |               1.0000 | anon[17] -- p | (p)-[:FRIENDS_WITH*..2]-(p) |
| |                      +----------------+------+---------+-----------------+-------------------+----------------------+---------------+-----------------------------+
| +NodeByLabelScan       |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p             | :Person                     |
+------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+-----------------------------+

Total database accesses: 43</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-varlength-expand-pruning">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-varlength-expand-pruning"></a>3.7.4.32.&nbsp;VarLength Expand Pruning
                     </h4>
                  </div>
               </div>
            </div>
            <p>Given a start node, the <code class="literal">VarLengthExpand(Pruning)</code> operator will traverse variable-length relationships much like the <a class="link" href="index.html#query-plan-varlength-expand-all" title="3.7.4.30.&nbsp;VarLength Expand All"><code class="literal">VarLengthExpand(All)</code></a> operator.
               However, as an optimization, some paths will not be explored if they are guaranteed to produce an end node that has already
               been found (by means of a previous path traversal).
               This will only be used in cases where the individual paths are not of interest.
               This operator guarantees that all the end nodes produced will be unique.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)-[:FRIENDS_WITH *3..4]-(q:Person)
RETURN DISTINCT p, q</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| Operator                  | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                        |
+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| +ProduceResults           |              0 |    0 |       0 |               2 |                 0 |               1.0000 | p, q      |                              |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| +Distinct                 |              0 |    0 |       0 |               2 |                 0 |               1.0000 | p, q      | p, q                         |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| +Filter                   |              0 |    0 |       0 |               2 |                 0 |               1.0000 | p, q      | q:Person                     |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| +VarLengthExpand(Pruning) |              0 |    0 |      32 |               2 |                 0 |               1.0000 | q -- p    | (p)-[:FRIENDS_WITH*3..4]-(q) |
| |                         +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+
| +NodeByLabelScan          |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p         | :Person                      |
+---------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------+

Total database accesses: 47</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-assert-same-node">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-assert-same-node"></a>3.7.4.33.&nbsp;Assert Same Node
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">AssertSameNode</code> operator is used to ensure that no unique constraints are violated.
               The example looks for the presence of a team with the supplied name and id, and if one does not exist,
               it will be created. Owing to the existence of two unique constraints
               on <code class="literal">:Team(name)</code> and <code class="literal">:Team(id)</code>, any node that would be found by the <code class="literal">UniqueIndexSeek</code>
               must be the very same node, or the constraints would be violated.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MERGE (t:Team { name: 'Engineering', id: 42 })</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| Operator                        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other       |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +ProduceResults                 |              1 |    0 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +EmptyResult                    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +AntiConditionalApply           |              1 |    1 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |\                              +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| | +MergeCreateNode              |              1 |    0 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +Optional                       |              1 |    1 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +ActiveRead                     |              0 |    1 |       0 |               0 |                 0 |               0.0000 | t         |             |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +AssertSameNode                 |              0 |    1 |       0 |               0 |                 1 |               0.0000 | t         |             |
| |\                              +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| | +NodeUniqueIndexSeek(Locking) |              1 |    1 |       2 |               0 |                 1 |               0.0000 | t         | :Team(id)   |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+
| +NodeUniqueIndexSeek(Locking)   |              1 |    1 |       2 |               0 |                 2 |               0.0000 | t         | :Team(name) |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------+

Total database accesses: 4</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-result">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-result"></a>3.7.4.34.&nbsp;Drop Result
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropResult</code> operator produces zero rows.
               It is applied when it can be deduced through static analysis that the result of an expression will be empty, such as when
               a predicate guaranteed to return <code class="literal">false</code> (e.g. <code class="literal">1 &gt; 5</code>) is used in a query.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p)
WHERE FALSE RETURN p</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |              0 |    0 |       0 |               0 |                 0 |               0.0000 | p         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +DropResult     |              0 |    0 |       0 |               0 |                 0 |               0.0000 | p         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |    0 |       0 |               0 |                 0 |               0.0000 | p         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 0</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-empty-result">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-empty-result"></a>3.7.4.35.&nbsp;Empty Result
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">EmptyResult</code> operator eagerly loads all incoming data and discards it.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (:Person)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[8]   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[8]   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +CreateNode     |              1 |    1 |       2 |               0 |                 0 |               0.0000 | anon[8]   |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-produce-results">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-produce-results"></a>3.7.4.36.&nbsp;Produce Results
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">ProduceResults</code> operator prepares the result so that it is consumable by the user, such as transforming internal values to user values.
               It is present in every single query that returns data to the user, and has little bearing on performance optimisation.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
RETURN n</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |             35 |   35 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |   35 |      36 |               1 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 36</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-load-csv">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-load-csv"></a>3.7.4.37.&nbsp;Load CSV
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LoadCSV</code> operator loads data from a CSV source into the query.
               It is used whenever the <a class="link" href="../../clauses/load-csv/index.html" title="3.3.20.&nbsp;LOAD CSV">LOAD CSV</a> clause is used in a query.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">LOAD CSV FROM 'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv' AS line
RETURN line</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |              1 |    4 |       0 |               0 |                 0 |               0.0000 | line      |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +LoadCSV        |              1 |    4 |       0 |               0 |                 0 |               0.0000 | line      |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 0</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="execution-plans-operators-hash-join-general">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#execution-plans-operators-hash-join-general"></a>3.7.4.38.&nbsp;Hash joins in general
                     </h4>
                  </div>
               </div>
            </div>
            <p>Hash joins have two inputs: the build input and probe input.
               The query planner assigns these roles so that the smaller of the two inputs is the build input.
               The build input is pulled in eagerly, and is used to build a probe table.
               Once this is complete, the probe table is checked for each row coming from the probe input side.
            </p>
            <p>In query plans, the build input is always the left operator, and the probe input the right operator.</p>
            <p>There are four hash join operators:</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem"><a class="link" href="index.html#query-plan-node-hash-join" title="3.7.4.39.&nbsp;Node Hash Join">NodeHashJoin</a></li>
                  <li class="listitem"><a class="link" href="index.html#query-plan-value-hash-join" title="3.7.4.40.&nbsp;Value Hash Join">ValueHashJoin</a></li>
                  <li class="listitem"><a class="link" href="index.html#query-plan-node-left-right-outer-hash-join" title="3.7.4.41.&nbsp;Node Left/Right Outer Hash Join">NodeLeftOuterHashJoin</a></li>
                  <li class="listitem"><a class="link" href="index.html#query-plan-node-left-right-outer-hash-join" title="3.7.4.41.&nbsp;Node Left/Right Outer Hash Join">NodeRightOuterHashJoin</a></li>
               </ul>
            </div>
         </section>
         <section class="section" id="query-plan-node-hash-join">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-hash-join"></a>3.7.4.39.&nbsp;Node Hash Join
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeHashJoin</code> operator is a variation of the <a class="link" href="index.html#execution-plans-operators-hash-join-general" title="3.7.4.38.&nbsp;Hash joins in general">hash join</a>.
               <code class="literal">NodeHashJoin</code> executes the hash join on node ids.
               As primitive types and arrays can be used, it can be done very efficiently.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (bob:Person { name:'Bob' })-[:WORKS_IN]-&gt;(loc)&lt;-[:WORKS_IN]-(matt:Person { name:'Mattis' })
RETURN loc.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                                      | Other                       |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +ProduceResults  |             10 |    0 |       0 |               0 |                 0 |               0.0000 | anon[32], anon[51], bob, loc, loc.name, matt   |                             |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +Projection      |             10 |    0 |       0 |               0 |                 0 |               0.0000 | loc.name -- anon[32], anon[51], bob, loc, matt | {loc.name : loc.name}       |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +Filter          |             10 |    0 |       0 |               0 |                 0 |               0.0000 | anon[32], anon[51], bob, loc, matt             | not `anon[32]` = `anon[51]` |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +NodeHashJoin    |             10 |    0 |       0 |               4 |                 0 |               1.0000 | anon[32], bob -- anon[51], loc, matt           | loc                         |
| |\               +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| | +Expand(All)   |             19 |    0 |       0 |               1 |                 0 |               1.0000 | anon[51], loc -- matt                          | (matt)-[:WORKS_IN]-&gt;(loc)   |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| | +NodeIndexSeek |              1 |    0 |       2 |               1 |                 0 |               1.0000 | matt                                           | :Person(name)               |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +Expand(All)     |             19 |    0 |       1 |               0 |                 0 |               0.0000 | anon[32], loc -- bob                           | (bob)-[:WORKS_IN]-&gt;(loc)    |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+
| +NodeIndexSeek   |              1 |    1 |       3 |               0 |                 0 |               0.0000 | bob                                            | :Person(name)               |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------------------------------------+-----------------------------+

Total database accesses: 6</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-value-hash-join">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-value-hash-join"></a>3.7.4.40.&nbsp;Value Hash Join
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">ValueHashJoin</code> operator is a variation of the <a class="link" href="index.html#execution-plans-operators-hash-join-general" title="3.7.4.38.&nbsp;Hash joins in general">hash join</a>.
                          This operator allows for arbitrary values to be used as the join key.
                          It is most frequently used to solve predicates of the form: <code class="literal">n.prop1 = m.prop2</code> (i.e. equality predicates between two property columns).
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person),(q:Person)
WHERE p.age = q.age
RETURN p,q</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults    |              0 |    0 |       0 |               0 |                 0 |               0.0000 | p, q      |               |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ValueHashJoin     |              0 |    0 |      28 |               1 |                 0 |               1.0000 | p -- q    | p.age = q.age |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +NodeByLabelScan |             14 |   14 |      15 |               1 |                 0 |               1.0000 | q         | :Person       |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeByLabelScan   |             14 |   14 |      15 |               2 |                 0 |               1.0000 | p         | :Person       |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 58</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-left-right-outer-hash-join">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-left-right-outer-hash-join"></a>3.7.4.41.&nbsp;Node Left/Right Outer Hash Join
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeLeftOuterHashJoin</code> and <code class="literal">NodeRightOuterHashJoin</code> operators are variations of the <a class="link" href="index.html#execution-plans-operators-hash-join-general" title="3.7.4.38.&nbsp;Hash joins in general">hash join</a>.
               The query below can be planned with either a left or a right outer join.
               The decision depends on the cardinalities of the left-hand and right-hand sides; i.e. how many rows would be returned, respectively,
               for <code class="literal">(a:Person)</code> and <code class="literal">(a)-&#8594;(b:Person)</code>.
               If <code class="literal">(a:Person)</code> returns fewer results than <code class="literal">(a)-&#8594;(b:Person)</code>, a left outer join&#8201;&#8212;&#8201;indicated by <code class="literal">NodeLeftOuterHashJoin</code>&#8201;&#8212;&#8201;is planned.
               On the other hand, if <code class="literal">(a:Person)</code> returns more results than <code class="literal">(a)-&#8594;(b:Person)</code>, a right outer join&#8201;&#8212;&#8201;indicated by <code class="literal">NodeRightOuterHashJoin</code>&#8201;&#8212;&#8201;is planned instead.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (a:Person)
OPTIONAL MATCH (a)--&gt;(b:Person)
USING JOIN ON a
RETURN a.name, b.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| Operator                | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                        | Other                              |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| +ProduceResults         |             14 |   14 |       0 |               1 |                 0 |               1.0000 | anon[36], a, a.name, b, b.name   |                                    |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| +Projection             |             14 |   14 |      16 |               1 |                 0 |               1.0000 | a.name, b.name -- anon[36], a, b | {a.name : a.name, b.name : b.name} |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| +NodeRightOuterHashJoin |             14 |   14 |       0 |               4 |                 0 |               1.0000 | anon[36], b -- a                 | a                                  |
| |\                      +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| | +NodeByLabelScan      |             14 |   14 |      15 |               4 |                 0 |               1.0000 | a                                | :Person                            |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| +Expand(All)            |              2 |    2 |      16 |               3 |                 0 |               1.0000 | anon[36], a -- b                 | (b)&lt;--(a)                          |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+
| +NodeByLabelScan        |             14 |   14 |      15 |               4 |                 0 |               1.0000 | b                                | :Person                            |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------------+------------------------------------+

Total database accesses: 62</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-triadic-selection">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-triadic-selection"></a>3.7.4.42.&nbsp;Triadic Selection
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">TriadicSelection</code> operator is used to solve triangular queries, such as the very
               common 'find my friend-of-friends that are not already my friend'.
               It does so by putting all the friends into a set, and uses the set to check if the
               friend-of-friends are already connected to me.
               The example finds the names of all friends of my friends that are not already my friends.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (me:Person)-[:FRIENDS_WITH]-()-[:FRIENDS_WITH]-(other)
WHERE NOT (me)-[:FRIENDS_WITH]-(other)
RETURN other.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| Operator          | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                                             | Other                       |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| +ProduceResults   |              0 |    2 |       0 |               4 |                 0 |               1.0000 | anon[18], anon[35], anon[37], me, other, other.name   |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| +Projection       |              0 |    2 |       2 |               4 |                 0 |               1.0000 | other.name -- anon[18], anon[35], anon[37], me, other | {other.name : other.name}   |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| +TriadicSelection |              0 |    2 |       0 |               4 |                 0 |               1.0000 | anon[18], anon[35], anon[37], me, other               | me, anon[35], other         |
| |\                +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| | +Filter         |              0 |    2 |       0 |               0 |                 0 |               0.0000 | anon[18], anon[35], anon[37], me, other               | not `anon[18]` = `anon[37]` |
| | |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| | +Expand(All)    |              0 |    6 |      10 |               0 |                 0 |               0.0000 | anon[37], other -- anon[18], anon[35], me             | ()-[:FRIENDS_WITH]-(other)  |
| | |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| | +Argument       |              4 |    4 |       0 |               0 |                 0 |               0.0000 | anon[18], anon[35], me                                |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| +Expand(All)      |              4 |    4 |      18 |               1 |                 0 |               1.0000 | anon[18], anon[35] -- me                              | (me)-[:FRIENDS_WITH]-()     |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+
| +NodeByLabelScan  |             14 |   14 |      15 |               0 |                 0 |               0.0000 | me                                                    | :Person                     |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------------------------------------------+-----------------------------+

Total database accesses: 45</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-cartesian-product">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-cartesian-product"></a>3.7.4.43.&nbsp;Cartesian Product
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CartesianProduct</code> operator produces a cartesian product of the two inputs&#8201;&#8212;&#8201;each row coming from the left child operator will be combined with
               all the rows from the right child operator.
               <code class="literal">CartesianProduct</code> generally exhibits bad performance and ought to be avoided if possible.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person),(t:Team)
RETURN p, t</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other   |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +ProduceResults    |            140 |  140 |       0 |              10 |                 0 |               1.0000 | p, t      |         |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +CartesianProduct  |            140 |  140 |       0 |              11 |                 0 |               1.0000 | t -- p    |         |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| | +NodeByLabelScan |             14 |  140 |     150 |               1 |                 0 |               1.0000 | p         | :Person |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +NodeByLabelScan   |             10 |   10 |      11 |              11 |                 0 |               1.0000 | t         | :Team   |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+

Total database accesses: 161</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-foreach">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-foreach"></a>3.7.4.44.&nbsp;Foreach
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Foreach</code> operator executes a nested loop between the left child operator and the right child operator.
                In an analogous manner to the <a class="link" href="index.html#query-plan-apply" title="3.7.4.13.&nbsp;Apply">Apply</a> operator, it takes a row from the left-hand side and, using the <a class="link" href="index.html#query-plan-argument" title="3.7.4.25.&nbsp;Argument">Argument</a> operator, provides it to the operator tree on the right-hand side.
                <code class="literal">Foreach</code> will yield all the rows coming in from the left-hand side; all results from the right-hand side are pulled in and discarded.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">FOREACH (value IN [1,2,3]| CREATE (:Person { age: value }))</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +ProduceResults |              1 |    0 |       0 |               0 |                 0 |               0.0000 |                   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +EmptyResult    |              1 |    0 |       0 |               0 |                 0 |               0.0000 |                   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +Foreach        |              1 |    1 |       0 |               0 |                 0 |               0.0000 |                   |
| |\              +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| | +CreateNode   |              1 |    3 |      12 |               0 |                 0 |               0.0000 | anon[36] -- value |
| | |             +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| | +Argument     |              1 |    3 |       0 |               0 |                 0 |               0.0000 | value             |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +EmptyRow       |              1 |    1 |       0 |               0 |                 0 |               0.0000 |                   |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-eager">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-eager"></a>3.7.4.45.&nbsp;Eager
                     </h4>
                  </div>
               </div>
            </div>
            <p>For isolation purposes, the <code class="literal">Eager</code> operator ensures that operations affecting subsequent operations are executed fully for the whole dataset before continuing
               execution.
                Information from the stores is fetched in a lazy manner; i.e. the pattern matching might not be fully exhausted before updates
               are applied.
                To guarantee reasonable semantics, the query planner will insert <code class="literal">Eager</code> operators into the query plan to prevent updates from influencing pattern matching;
                this scenario is exemplified by the query below, where the <code class="literal">DELETE</code> clause influences the <code class="literal">MATCH</code> clause.
                The <code class="literal">Eager</code> operator can cause high memory usage when importing data or migrating graph structures.
                In such cases, the operations should be split into simpler steps; e.g. importing nodes and relationships separately.
                Alternatively, the records to be updated can be returned, followed by an update statement.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (a)-[r]-(b)
DELETE r,a,b
MERGE ()</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| Operator                | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables           | Other        |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +ProduceResults         |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[38], a, b, r   |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +EmptyResult            |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[38], a, b, r   |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +Apply                  |              1 |  504 |       0 |               0 |                 0 |               0.0000 | a, b, r -- anon[38] |              |
| |\                      +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| | +AntiConditionalApply |              1 |  504 |       0 |               0 |                 0 |               0.0000 | anon[38]            |              |
| | |\                    +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| | | +MergeCreateNode    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[38]            |              |
| | |                     +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| | +Optional             |             35 |  504 |       0 |               0 |                 0 |               0.0000 | anon[38]            |              |
| | |                     +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| | +ActiveRead           |             35 |  504 |       0 |               0 |                 0 |               0.0000 | anon[38]            |              |
| | |                     +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| | +AllNodesScan         |             35 |  504 |     540 |               0 |                 0 |               0.0000 | anon[38]            |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +Eager                  |             36 |   36 |       0 |              15 |                 0 |               1.0000 | a, b, r             |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +Delete(3)              |             36 |   36 |      39 |              45 |                 0 |               3.0000 | a, b, r             |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +Eager                  |             36 |   36 |       0 |              17 |                 0 |               1.0000 | a, b, r             |              |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +Expand(All)            |             36 |   36 |      71 |               2 |                 0 |               1.0000 | b, r -- a           | (a)-[r:]-(b) |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+
| +AllNodesScan           |             35 |   35 |      36 |               3 |                 0 |               1.0000 | a                   |              |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------------+--------------+

Total database accesses: 686</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-eager-aggregation">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-eager-aggregation"></a>3.7.4.46.&nbsp;Eager Aggregation
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">EagerAggregation</code> operator evaluates a grouping expression and uses the result to group rows into different groupings.
               For each of these groupings, <code class="literal">EagerAggregation</code> will then evaluate all aggregation functions and return the result.
               To do this, <code class="literal">EagerAggregation</code>, as the name implies, needs to pull in all data eagerly from its source and build up state, which leads to increased memory
               pressure in the system.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)&lt;-[:WORKS_IN]-(p:Person)
RETURN l.name AS location, collect(p.name) AS people</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| Operator          | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables        | Other                |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +ProduceResults   |              4 |    6 |       0 |               0 |                 0 |               0.0000 | location, people |                      |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +EagerAggregation |              4 |    6 |      30 |               3 |                 0 |               1.0000 | location, people | location             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +Filter           |             15 |   15 |      15 |               3 |                 0 |               1.0000 | anon[19], l, p   | p:Person             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +Expand(All)      |             15 |   15 |      25 |               3 |                 0 |               1.0000 | anon[19], p -- l | (l)&lt;-[:WORKS_IN]-(p) |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +NodeByLabelScan  |             10 |   10 |      11 |               4 |                 0 |               1.0000 | l                | :Location            |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+

Total database accesses: 81</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-node-count-from-count-store">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-node-count-from-count-store"></a>3.7.4.47.&nbsp;Node Count From Count Store
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">NodeCountFromCountStore</code> operator uses the count store to answer questions about node counts.
                This is much faster than the <code class="literal">EagerAggregation</code> operator which achieves the same result by actually counting.
                However, as the count store only stores a limited range of combinations, <code class="literal">EagerAggregation</code> will still be used for more complex queries.
                For example, we can get counts for all nodes, and nodes with a label, but not nodes with more than one label.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN count(p) AS people</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------+
| Operator                 | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                              |
+--------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------+
| +ProduceResults          |              4 |    1 |       0 |               0 |                 0 |               0.0000 | people    |                                    |
| |                        +----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------+
| +NodeCountFromCountStore |              4 |    1 |       1 |               0 |                 0 |               0.0000 | people    | count( (:Some(Person)) ) AS people |
+--------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+------------------------------------+

Total database accesses: 1</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-relationship-count-from-count-store">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-relationship-count-from-count-store"></a>3.7.4.48.&nbsp;Relationship Count From Count Store
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">RelationshipCountFromCountStore</code> operator uses the count store to answer questions about relationship counts.
                This is much faster than the <code class="literal">EagerAggregation</code> operator which achieves the same result by actually counting.
                However, as the count store only stores a limited range of combinations, <code class="literal">EagerAggregation</code> will still be used for more complex queries.
                For example, we can get counts for all relationships, relationships with a type, relationships with a label on one end, but
               not relationships with labels on both end nodes.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)-[r:WORKS_IN]-&gt;()
RETURN count(r) AS jobs</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+----------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+--------------------------------------------+
| Operator                         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                                      |
+----------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+--------------------------------------------+
| +ProduceResults                  |              4 |    1 |       0 |               0 |                 0 |               0.0000 | jobs      |                                            |
| |                                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+--------------------------------------------+
| +RelationshipCountFromCountStore |              4 |    1 |       2 |               0 |                 0 |               0.0000 | jobs      | count( (:Person)-[:WORKS_IN]-&gt;() ) AS jobs |
+----------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+--------------------------------------------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-distinct">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-distinct"></a>3.7.4.49.&nbsp;Distinct
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Distinct</code> operator removes duplicate rows from the incoming stream of rows.
               To ensure only distinct elements are returned, <code class="literal">Distinct</code> will pull in data lazily from its source and build up state.
               This may lead to increased memory pressure in the system.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (l:Location)&lt;-[:WORKS_IN]-(p:Person)
RETURN DISTINCT l</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables        | Other                |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +ProduceResults  |             14 |    6 |       0 |               2 |                 0 |               1.0000 | l                |                      |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +Distinct        |             14 |    6 |       0 |               2 |                 0 |               1.0000 | l                | l                    |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +Filter          |             15 |   15 |      15 |               2 |                 0 |               1.0000 | anon[19], l, p   | p:Person             |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +Expand(All)     |             15 |   15 |      25 |               2 |                 0 |               1.0000 | anon[19], p -- l | (l)&lt;-[:WORKS_IN]-(p) |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+
| +NodeByLabelScan |             10 |   10 |      11 |               3 |                 0 |               1.0000 | l                | :Location            |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+----------------------+

Total database accesses: 51</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-filter">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-filter"></a>3.7.4.50.&nbsp;Filter
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Filter</code> operator filters each row coming from the child operator, only passing through rows that evaluate the predicates to <code class="literal">true</code>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
WHERE p.name =~ '^a.*'
RETURN p</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                      |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------+
| +ProduceResults |             14 |    0 |       0 |               2 |                 0 |               1.0000 | p         |                            |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------+
| +Filter         |             14 |    0 |      14 |               2 |                 0 |               1.0000 | p         | p.name =~ $`  AUTOSTRING0` |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------+
| +NodeIndexScan  |             14 |   14 |      16 |               2 |                 4 |               0.3333 | p         | :Person(name)              |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------+

Total database accesses: 30</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-limit">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-limit"></a>3.7.4.51.&nbsp;Limit
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Limit</code> operator returns the first 'n' rows from the incoming input.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN p
LIMIT 3</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other   |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +ProduceResults  |              3 |    3 |       0 |               0 |                 0 |               0.0000 | p         |         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +Limit           |              3 |    3 |       0 |               0 |                 0 |               0.0000 | p         | 3       |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +NodeByLabelScan |             14 |    3 |       4 |               0 |                 0 |               0.0000 | p         | :Person |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+

Total database accesses: 4</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-skip">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-skip"></a>3.7.4.52.&nbsp;Skip
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Skip</code> operator skips 'n' rows from the incoming rows.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN p
ORDER BY p.id
SKIP 1</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                             |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +ProduceResults  |             14 |   13 |       0 |               0 |                 0 |               0.0000 | anon[35], anon[59], p, p   |                                   |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +Projection      |             14 |   13 |       0 |               0 |                 0 |               0.0000 | p -- anon[35], anon[59], p | {p : `anon[35]`}                  |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +Skip            |             14 |   13 |       0 |               0 |                 0 |               0.0000 | anon[35], anon[59], p      | $`  AUTOINT0`                     |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +Sort            |             14 |   14 |       0 |               2 |                 0 |               1.0000 | anon[35], anon[59], p      | anon[59]                          |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +Projection      |             14 |   14 |      14 |               2 |                 0 |               1.0000 | anon[59] -- anon[35], p    | { : `anon[35]`,  : `anon[35]`.id} |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +Projection      |             14 |   14 |       0 |               2 |                 0 |               1.0000 | anon[35] -- p              | { : `p`}                          |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+
| +NodeByLabelScan |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p                          | :Person                           |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-----------------------------------+

Total database accesses: 29</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-sort">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-sort"></a>3.7.4.53.&nbsp;Sort
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Sort</code> operator sorts rows by a provided key.
               In order to sort the data, all data from the source operator needs to be pulled in eagerly and kept in the query state, which
               will lead to increased memory pressure in the system.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN p
ORDER BY p.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                               |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +ProduceResults  |             14 |   14 |       0 |               0 |                 0 |               0.0000 | anon[24], anon[37], p, p   |                                     |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |             14 |   14 |       0 |               0 |                 0 |               0.0000 | p -- anon[24], anon[37], p | {p : `anon[24]`}                    |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Sort            |             14 |   14 |       0 |               2 |                 0 |               1.0000 | anon[24], anon[37], p      | anon[37]                            |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |             14 |   14 |      14 |               2 |                 0 |               1.0000 | anon[37] -- anon[24], p    | { : `anon[24]`,  : `anon[24]`.name} |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |             14 |   14 |       0 |               2 |                 0 |               1.0000 | anon[24] -- p              | { : `p`}                            |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +NodeByLabelScan |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p                          | :Person                             |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+

Total database accesses: 29</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-top">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-top"></a>3.7.4.54.&nbsp;Top
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Top</code> operator returns the first 'n' rows sorted by a provided key. Instead of sorting the entire input, only the top 'n' rows
               are retained.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
RETURN p
ORDER BY p.name
LIMIT 2</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables                  | Other                               |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +ProduceResults  |              2 |    2 |       0 |               0 |                 0 |               0.0000 | anon[24], anon[37], p, p   |                                     |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |              2 |    2 |       0 |               0 |                 0 |               0.0000 | p -- anon[24], anon[37], p | {p : `anon[24]`}                    |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Top             |              2 |    2 |       0 |               2 |                 0 |               1.0000 | anon[24], anon[37], p      | anon[37]; 2                         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |             14 |   14 |      14 |               2 |                 0 |               1.0000 | anon[37] -- anon[24], p    | { : `anon[24]`,  : `anon[24]`.name} |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +Projection      |             14 |   14 |       0 |               2 |                 0 |               1.0000 | anon[24] -- p              | { : `p`}                            |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+
| +NodeByLabelScan |             14 |   14 |      15 |               3 |                 0 |               1.0000 | p                          | :Person                             |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+----------------------------+-------------------------------------+

Total database accesses: 29</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-union">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-union"></a>3.7.4.55.&nbsp;Union
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Union</code> operator concatenates the results from the right child operator with the results from the left child operator.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Location)
RETURN p.name
UNION ALL MATCH (p:Country)
RETURN p.name</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| Operator           | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables   | Other               |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| +ProduceResults    |             10 |   11 |       0 |               3 |                 0 |               1.0000 | p.name      |                     |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| +Union             |             10 |   11 |       0 |               4 |                 0 |               1.0000 | p.name      |                     |
| |\                 +----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| | +Projection      |              1 |    1 |       1 |               0 |                 0 |               0.0000 | p.name -- p | {p.name : `p`.name} |
| | |                +----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| | +NodeByLabelScan |              1 |    1 |       2 |               1 |                 0 |               1.0000 | p           | :Country            |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| +Projection        |             10 |   10 |      10 |               2 |                 0 |               1.0000 | p.name -- p | {p.name : `p`.name} |
| |                  +----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+
| +NodeByLabelScan   |             10 |   10 |      11 |               3 |                 0 |               1.0000 | p           | :Location           |
+--------------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------+---------------------+

Total database accesses: 24</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-unwind">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-unwind"></a>3.7.4.56.&nbsp;Unwind
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Unwind</code> operator returns one row per item in a list.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">UNWIND range(1, 5) AS value
RETURN value</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                               |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------------+
| +ProduceResults |             10 |    5 |       0 |               0 |                 0 |               0.0000 | value     |                                     |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------------+
| +Unwind         |             10 |    5 |       0 |               0 |                 0 |               0.0000 | value     | range($`  AUTOINT0`, $`  AUTOINT1`) |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------------+

Total database accesses: 0</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-lock-nodes">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-lock-nodes"></a>3.7.4.57.&nbsp;Lock Nodes
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">LockNodes</code> operator locks the start and end node when creating a relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (s:Person { name: 'me' })
MERGE (s)-[:FRIENDS_WITH]-&gt;(s)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| Operator                     | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables     | Other                    |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +ProduceResults              |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[40], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +EmptyResult                 |              1 |    0 |       0 |               4 |                 1 |               0.8000 | anon[40], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +Apply                       |              1 |    1 |       0 |               4 |                 1 |               0.8000 | anon[40], s   |                          |
| |\                           +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +MergeCreateRelationship |              1 |    1 |       1 |               2 |                 0 |               1.0000 | anon[40] -- s |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    1 |       0 |               2 |                 0 |               1.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Optional                |              1 |    1 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +ActiveRead              |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[40], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Expand(Into)            |              0 |    0 |       4 |               0 |                 0 |               0.0000 | anon[40] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +LockNodes               |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             | s                        |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    1 |       0 |               0 |                 0 |               0.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Optional                  |              1 |    1 |       0 |               4 |                 0 |               1.0000 | anon[40], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +ActiveRead                |              0 |    0 |       0 |               2 |                 0 |               1.0000 | anon[40], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Expand(Into)              |              0 |    0 |       4 |               2 |                 0 |               1.0000 | anon[40] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Argument                  |              1 |    1 |       0 |               2 |                 0 |               1.0000 | s             |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +NodeIndexSeek               |              1 |    1 |       3 |               4 |                 1 |               0.8000 | s             | :Person(name)            |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-optional">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-optional"></a>3.7.4.58.&nbsp;Optional
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Optional</code> operator is used to solve some <a class="link" href="../../clauses/optional-match/index.html" title="3.3.2.&nbsp;OPTIONAL MATCH">OPTIONAL MATCH</a> queries.
               It will pull data from its source, simply passing it through if any data exists.
               However, if no data is returned by its source, <code class="literal">Optional</code> will yield a single row with all columns set to <code class="literal">null</code>.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person { name:'me' })
OPTIONAL MATCH (q:Person { name: 'Lulu' })
RETURN p, q</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults  |              1 |    1 |       0 |               1 |                 1 |               0.5000 | p, q      |               |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Apply           |              1 |    1 |       0 |               1 |                 1 |               0.5000 | p -- q    |               |
| |\               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +Optional      |              1 |    1 |       0 |               1 |                 0 |               1.0000 | q         |               |
| | |              +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +NodeIndexSeek |              1 |    0 |       2 |               1 |                 0 |               1.0000 | q         | :Person(name) |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeIndexSeek   |              1 |    1 |       3 |               1 |                 1 |               0.5000 | p         | :Person(name) |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 5</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-project-endpoints">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-project-endpoints"></a>3.7.4.59.&nbsp;Project Endpoints
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">ProjectEndpoints</code> operator projects the start and end node of a relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (n)-[p:KNOWS]-&gt;(m)
WITH p AS r
MATCH (u)-[r]-&gt;(v)
RETURN u, v</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| Operator            | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables          | Other   |
+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| +ProduceResults     |             18 |    1 |       0 |               0 |                 0 |               0.0000 | m, n, p, r, u, v   |         |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| +Apply              |             18 |    1 |       0 |               0 |                 0 |               0.0000 | m, n, p -- r, u, v |         |
| |\                  +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| | +ProjectEndpoints |             18 |    0 |       0 |               0 |                 0 |               0.0000 | u, v -- r          | r, u, v |
| | |                 +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| | +Argument         |              1 |    1 |       0 |               0 |                 0 |               0.0000 | r                  |         |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| +Projection         |              1 |    1 |       0 |               0 |                 0 |               0.0000 | r -- m, n, p       | {r : p} |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| +CreateRelationship |              1 |    1 |       2 |               0 |                 0 |               0.0000 | p -- m, n          |         |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+
| +CreateNode(2)      |              1 |    1 |       4 |               0 |                 0 |               0.0000 | m, n               |         |
+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+--------------------+---------+

Total database accesses: 6</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-projection">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-projection"></a>3.7.4.60.&nbsp;Projection
                     </h4>
                  </div>
               </div>
            </div>
            <p>For each incoming row, the <code class="literal">Projection</code> operator evaluates a set of expressions and produces a row with the results of the expressions.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">RETURN 'hello' AS greeting</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------+
| +ProduceResults |              1 |    1 |       0 |               0 |                 0 |               0.0000 | greeting  |                               |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------+
| +Projection     |              1 |    1 |       0 |               0 |                 0 |               0.0000 | greeting  | {greeting : $`  AUTOSTRING0`} |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+-------------------------------+

Total database accesses: 0</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-empty-row">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-empty-row"></a>3.7.4.61.&nbsp;Empty Row
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">EmptyRow</code> operator returns a single row with no columns.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">FOREACH (value IN [1,2,3]| CREATE (:Person { age: value }))</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +ProduceResults |              1 |    0 |       0 |               0 |                 0 |               0.0000 |                   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +EmptyResult    |              1 |    0 |       0 |               0 |                 0 |               0.0000 |                   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +Foreach        |              1 |    1 |       0 |               0 |                 0 |               0.0000 |                   |
| |\              +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| | +CreateNode   |              1 |    3 |      12 |               0 |                 0 |               0.0000 | anon[36] -- value |
| | |             +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| | +Argument     |              1 |    3 |       0 |               0 |                 0 |               0.0000 | value             |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-------------------+
| +EmptyRow       |              1 |    1 |       0 |               0 |                 0 |               0.0000 |                   |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-------------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-procedure-call">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-procedure-call"></a>3.7.4.62.&nbsp;Procedure Call
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">ProcedureCall</code> operator indicates an invocation to a procedure.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CALL db.labels() YIELD label
RETURN *
ORDER BY label</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other                            |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------+
| +ProduceResults |          10000 |    4 |       0 |               0 |                 0 |               0.0000 | label     |                                  |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------+
| +Sort           |          10000 |    4 |       0 |               0 |                 0 |               0.0000 | label     | label                            |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------+
| +ProcedureCall  |          10000 |    4 |       1 |               0 |                 0 |               0.0000 | label     | db.labels() :: (label :: String) |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+----------------------------------+

Total database accesses: 1</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-node">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-node"></a>3.7.4.63.&nbsp;Create Node
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateNode</code> operator is used to create a node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE (:Person { name: 'Jack' })</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[8]   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult    |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[8]   |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +CreateNode     |              1 |    1 |       4 |               0 |                 0 |               0.0000 | anon[8]   |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 4</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-relationship">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-relationship"></a>3.7.4.64.&nbsp;Create Relationship
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateRelationship</code> operator is used to create a relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (a:Person { name: 'Max' }),(b:Person { name: 'Chris' })
CREATE (a)-[:FRIENDS_WITH]-&gt;(b)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| Operator            | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables        | Other         |
+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| +ProduceResults     |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[70], a, b   |               |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| +EmptyResult        |              1 |    0 |       0 |               3 |                 1 |               0.7500 | anon[70], a, b   |               |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| +CreateRelationship |              1 |    1 |       1 |               3 |                 1 |               0.7500 | anon[70] -- a, b |               |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| +CartesianProduct   |              1 |    1 |       0 |               3 |                 1 |               0.7500 | a -- b           |               |
| |\                  +----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| | +NodeIndexSeek    |              1 |    1 |       3 |               3 |                 0 |               1.0000 | b                | :Person(name) |
| |                   +----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+
| +NodeIndexSeek      |              1 |    1 |       3 |               3 |                 1 |               0.7500 | a                | :Person(name) |
+---------------------+----------------+------+---------+-----------------+-------------------+----------------------+------------------+---------------+

Total database accesses: 7</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-delete">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-delete"></a>3.7.4.65.&nbsp;Delete
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">Delete</code> operator is used to delete a node or a relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (me:Person { name: 'me' })-[w:WORKS_IN { duration: 190 }]-&gt;(london:Location { name: 'London' })
DELETE w</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| Operator          | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables       | Other                       |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +ProduceResults   |              0 |    0 |       0 |               0 |                 0 |               0.0000 | london, me, w   |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +EmptyResult      |              0 |    0 |       0 |              -4 |                -2 |               0.6667 | london, me, w   |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +Delete           |              0 |    1 |       1 |              -4 |                -2 |               0.6667 | london, me, w   |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +Eager            |              0 |    1 |       0 |               0 |                 0 |               0.0000 | london, me, w   |                             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +Filter           |              0 |    1 |       1 |               4 |                 2 |               0.6667 | london, me, w   | w.duration = $`  AUTOINT1`  |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +Expand(Into)     |              0 |    1 |       4 |               4 |                 2 |               0.6667 | w -- london, me | (me)-[w:WORKS_IN]-&gt;(london) |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +CartesianProduct |              1 |    1 |       0 |               4 |                 2 |               0.6667 | me -- london    |                             |
| |\                +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| | +NodeIndexSeek  |              1 |    1 |       3 |               4 |                 1 |               0.8000 | london          | :Location(name)             |
| |                 +----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+
| +NodeIndexSeek    |              1 |    1 |       3 |               4 |                 2 |               0.6667 | me              | :Person(name)               |
+-------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------------+-----------------------------+

Total database accesses: 12</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-detach-delete">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-detach-delete"></a>3.7.4.66.&nbsp;Detach Delete
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DetachDelete</code> operator is used in all queries containing the <a class="link" href="../../clauses/delete/index.html" title="3.3.12.&nbsp;DELETE">DETACH DELETE</a> clause, when deleting nodes and their relationships.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (p:Person)
DETACH DELETE p</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| Operator         | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other   |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +ProduceResults  |             14 |    0 |       0 |               0 |                 0 |               0.0000 | p         |         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +EmptyResult     |             14 |    0 |       0 |              15 |                 0 |               1.0000 | p         |         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +DetachDelete    |             14 |   14 |       0 |              15 |                 0 |               1.0000 | p         |         |
| |                +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+
| +NodeByLabelScan |             14 |   14 |      15 |              16 |                 0 |               1.0000 | p         | :Person |
+------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------+

Total database accesses: 15</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-merge-create-node">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-merge-create-node"></a>3.7.4.67.&nbsp;Merge Create Node
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">MergeCreateNode</code> operator is used when creating a node as a result of a <a class="link" href="../../clauses/merge/index.html" title="3.3.16.&nbsp;MERGE">MERGE</a> clause failing to find the node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MERGE (:Person { name: 'Sally' })</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator              | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults       |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[7]   |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +EmptyResult          |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[7]   |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +AntiConditionalApply |              1 |    1 |       0 |               0 |                 0 |               0.0000 | anon[7]   |               |
| |\                    +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| | +MergeCreateNode    |              1 |    1 |       4 |               0 |                 0 |               0.0000 | anon[7]   |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Optional             |              1 |    1 |       0 |               0 |                 1 |               0.0000 | anon[7]   |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ActiveRead           |              1 |    0 |       0 |               0 |                 1 |               0.0000 | anon[7]   |               |
| |                     +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +NodeIndexSeek        |              1 |    0 |       2 |               0 |                 1 |               0.0000 | anon[7]   | :Person(name) |
+-----------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 6</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-merge-create-relationship">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-merge-create-relationship"></a>3.7.4.68.&nbsp;Merge Create Relationship
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">MergeCreateRelationship</code> operator is used when creating a relationship as a result of a <a class="link" href="../../clauses/merge/index.html" title="3.3.16.&nbsp;MERGE">MERGE</a> clause failing to find the relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (s:Person { name: 'Sally' })
MERGE (s)-[:FRIENDS_WITH]-&gt;(s)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| Operator                     | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables     | Other                    |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +ProduceResults              |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +EmptyResult                 |              1 |    0 |       0 |               0 |                 1 |               0.0000 | anon[43], s   |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +Apply                       |              1 |    0 |       0 |               0 |                 1 |               0.0000 | anon[43], s   |                          |
| |\                           +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +MergeCreateRelationship |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43] -- s |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +AntiConditionalApply      |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | |\                         +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Optional                |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +ActiveRead              |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Expand(Into)            |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +LockNodes               |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             | s                        |
| | | |                        +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | | +Argument                |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Optional                  |              1 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +ActiveRead                |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43], s   |                          |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Expand(Into)              |              0 |    0 |       0 |               0 |                 0 |               0.0000 | anon[43] -- s | (s)-[:FRIENDS_WITH]-&gt;(s) |
| | |                          +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| | +Argument                  |              1 |    0 |       0 |               0 |                 0 |               0.0000 | s             |                          |
| |                            +----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+
| +NodeIndexSeek               |              1 |    0 |       2 |               0 |                 1 |               0.0000 | s             | :Person(name)            |
+------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+---------------+--------------------------+

Total database accesses: 2</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-set-labels">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-set-labels"></a>3.7.4.69.&nbsp;Set Labels
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SetLabels</code> operator is used when setting labels on a node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
SET n:Person</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |             35 |    0 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult    |             35 |    0 |       0 |               2 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +SetLabels      |             35 |   35 |      35 |               2 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |   35 |      36 |               3 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 71</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-remove-labels">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-remove-labels"></a>3.7.4.70.&nbsp;Remove Labels
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">RemoveLabels</code> operator is used when deleting labels from a node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
REMOVE n:Person</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |             35 |    0 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult    |             35 |    0 |       0 |               2 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +RemoveLabels   |             35 |   35 |      35 |               2 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |   35 |      36 |               3 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 71</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-set-node-property-from-map">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-set-node-property-from-map"></a>3.7.4.71.&nbsp;Set Node Property From Map
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SetNodePropertyFromMap</code> operator is used when setting properties from a map on a node.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
SET n = { weekday: 'Monday', meal: 'Lunch' }</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator                | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults         |             35 |    0 |       0 |               0 |                 0 |               0.0000 | n         |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult            |             35 |    0 |       0 |               3 |                 0 |               1.0000 | n         |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +SetNodePropertyFromMap |             35 |   35 |     211 |               3 |                 0 |               1.0000 | n         |
| |                       +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan           |             35 |   35 |      36 |               4 |                 0 |               1.0000 | n         |
+-------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 247</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-set-relationship-property-from-map">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-set-relationship-property-from-map"></a>3.7.4.72.&nbsp;Set Relationship Property From Map
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SetRelationshipPropertyFromMap</code> operator is used when setting properties from a map on a relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)-[r]-&gt;(m)
SET r = { weight: 5, unit: 'kg' }</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| Operator                        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables | Other         |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +ProduceResults                 |             18 |    0 |       0 |               0 |                 0 |               0.0000 | m, n, r   |               |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +EmptyResult                    |             18 |    0 |       0 |               3 |                 0 |               1.0000 | m, n, r   |               |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +SetRelationshipPropertyFromMap |             18 |   18 |     105 |               3 |                 0 |               1.0000 | m, n, r   |               |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +Expand(All)                    |             18 |   18 |      53 |               3 |                 0 |               1.0000 | n, r -- m | (m)&lt;-[r:]-(n) |
| |                               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+
| +AllNodesScan                   |             35 |   35 |      36 |               4 |                 0 |               1.0000 | m         |               |
+---------------------------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+---------------+

Total database accesses: 194</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-set-property">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-set-property"></a>3.7.4.73.&nbsp;Set Property
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">SetProperty</code> operator is used when setting a property on a node or relationship.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">MATCH (n)
SET n.checked = TRUE</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner COST

Runtime INTERPRETED

Runtime version 3.4

+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| Operator        | Estimated Rows | Rows | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Variables |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +ProduceResults |             35 |    0 |       0 |               0 |                 0 |               0.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +EmptyResult    |             35 |    0 |       0 |               1 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +SetProperty    |             35 |   35 |      38 |               1 |                 0 |               1.0000 | n         |
| |               +----------------+------+---------+-----------------+-------------------+----------------------+-----------+
| +AllNodesScan   |             35 |   35 |      36 |               2 |                 0 |               1.0000 | n         |
+-----------------+----------------+------+---------+-----------------+-------------------+----------------------+-----------+

Total database accesses: 74</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-unique-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-unique-constraint"></a>3.7.4.74.&nbsp;Create Unique Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateUniqueConstraint</code> operator creates a unique constraint on a property for all nodes having a certain label.
               The following query will create a unique constraint on the <code class="literal">name</code> property of nodes with the <code class="literal">Country</code> label.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE CONSTRAINT ON (c:Country) ASSERT c.name IS UNIQUE</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+-------------------------+
| Operator                |
+-------------------------+
| +CreateUniqueConstraint |
+-------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-unique-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-unique-constraint"></a>3.7.4.75.&nbsp;Drop Unique Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropUniqueConstraint</code> operator removes a unique constraint from a property for all nodes having a certain label.
               The following query will drop a unique constraint on the <code class="literal">name</code> property of nodes with the <code class="literal">Country</code> label.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">DROP CONSTRAINT ON (c:Country) ASSERT c.name IS UNIQUE</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+-----------------------+
| Operator              |
+-----------------------+
| +DropUniqueConstraint |
+-----------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-node-property-existence-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-node-property-existence-constraint"></a>3.7.4.76.&nbsp;Create Node Property Existence Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateNodePropertyExistenceConstraint</code> operator creates an existence constraint on a property for all nodes having a certain label.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE CONSTRAINT ON (p:Person) ASSERT exists(p.name)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+----------------------------------------+
| Operator                               |
+----------------------------------------+
| +CreateNodePropertyExistenceConstraint |
+----------------------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-node-property-existence-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-node-property-existence-constraint"></a>3.7.4.77.&nbsp;Drop Node Property Existence Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropNodePropertyExistenceConstraint</code> operator removes an existence constraint from a property for all nodes having a certain label.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">DROP CONSTRAINT ON (p:Person) ASSERT exists(p.name)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+--------------------------------------+
| Operator                             |
+--------------------------------------+
| +DropNodePropertyExistenceConstraint |
+--------------------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-node-key-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-node-key-constraint"></a>3.7.4.78.&nbsp;Create Node Key Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateNodeKeyConstraint</code> operator creates a Node Key which ensures that all nodes with a particular label have a set of defined properties whose combined
               value is unique, and where all properties in the set are present.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE CONSTRAINT ON (e:Employee) ASSERT (e.firstname, e.surname) IS NODE KEY</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+--------------------------+
| Operator                 |
+--------------------------+
| +CreateNodeKeyConstraint |
+--------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-node-key-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-node-key-constraint"></a>3.7.4.79.&nbsp;Drop Node Key Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropNodeKeyConstraint</code> operator removes a Node Key from a set of properties for all nodes having a certain label.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">DROP CONSTRAINT ON (e:Employee) ASSERT (e.firstname, e.surname) IS NODE KEY</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+------------------------+
| Operator               |
+------------------------+
| +DropNodeKeyConstraint |
+------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-relationship-property-existence-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-relationship-property-existence-constraint"></a>3.7.4.80.&nbsp;Create Relationship Property Existence Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateRelationshipPropertyExistenceConstraint</code> operator creates an existence constraint on a property for all relationships of a certain type.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE CONSTRAINT ON ()-[l:LIKED]-() ASSERT exists(l.when)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+------------------------------------------------+
| Operator                                       |
+------------------------------------------------+
| +CreateRelationshipPropertyExistenceConstraint |
+------------------------------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-relationship-property-existence-constraint">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-relationship-property-existence-constraint"></a>3.7.4.81.&nbsp;Drop Relationship Property Existence Constraint
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropRelationshipPropertyExistenceConstraint</code> operator removes an existence constraint from a property for all relationships of a certain type.
               This will only appear in Enterprise Edition.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">DROP CONSTRAINT ON ()-[l:LIKED]-() ASSERT exists(l.when)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+----------------------------------------------+
| Operator                                     |
+----------------------------------------------+
| +DropRelationshipPropertyExistenceConstraint |
+----------------------------------------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-create-index">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-create-index"></a>3.7.4.82.&nbsp;Create Index
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">CreateIndex</code> operator creates an index on a property for all nodes having a certain label.
               The following query will create an index on the <code class="literal">name</code> property of nodes with the <code class="literal">Country</code> label.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">CREATE INDEX ON :Country(name)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+--------------+
| Operator     |
+--------------+
| +CreateIndex |
+--------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
         <section class="section" id="query-plan-drop-index">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a class="anchor" href="index.html#query-plan-drop-index"></a>3.7.4.83.&nbsp;Drop Index
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <code class="literal">DropIndex</code> operator removes an index from a property for all nodes having a certain label.
               The following query will drop an index on the <code class="literal">name</code> property of nodes with the <code class="literal">Country</code> label.
            </p>
            <p><span class="formalpara-title">Query.&nbsp;</span>
               
            </p><pre class="programlisting highlight"><code data-lang="cypher">DROP INDEX ON :Country(name)</code></pre><p>
               
            </p>
            <p><span class="formalpara-title">Query Plan.&nbsp;</span>
               
            </p><pre class="screen highlight"><code>Compiler CYPHER 3.4

Planner PROCEDURE

Runtime PROCEDURE

Runtime version 3.4

+------------+
| Operator   |
+------------+
| +DropIndex |
+------------+

Total database accesses: ?</code></pre><p>
               
            </p>
         </section>
      </section>
      <footer><script type="text/javascript">
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          //Allow Linker
          ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
          ga('send', 'pageview');
          // Load the plugin.
          ga('require', 'linker');
          // Define which domains to autoLink.
          ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
        </script><script type="text/javascript">
          document.write(unescape("%3Cscript src='//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
        </script><script>Munchkin.init('773-GON-065');</script></footer>
   </body>
</html>